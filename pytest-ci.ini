[pytest]
# CI-specific pytest configuration
# This configuration is used in GitHub Actions

# Suppress warnings and verbose output
filterwarnings =
    ignore::pydantic._internal._config.PydanticDeprecatedSince20
    ignore::DeprecationWarning
    ignore::sklearn.exceptions.UndefinedMetricWarning
    ignore::UserWarning

# Test markers for grouping tests
markers =
    unit: Unit tests for core functionality
    modules: Module discovery tests (may have import side effects)
    prompts: Prompt system tests
    multi_task: Multi-task execution tests
    integration: Integration and end-to-end tests
    slow: Slow tests that should be skipped in CI
    requires_api: Tests that require real API access
    requires_ollama: Tests that require Ollama to be running locally
    smoke: Critical path smoke tests for CI

# Default test discovery patterns
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# CI-specific options
addopts = 
    --tb=short
    -v
    --strict-markers
    --disable-warnings
    -p no:warnings
    --confcutdir=tests
    --import-mode=importlib

# Timeout for tests (in seconds)
timeout = 300